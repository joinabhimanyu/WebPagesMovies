@{
    
Layout="~/_Layout.cshtml";
Page.Title="Insert Movie";

Validation.RequireField("Title","Title cannot be emty");
Validation.RequireField("Genre","Genre cannot be emty");
Validation.RequireField("Year","Year cannot be emty");


var db=Database.Open("WebPagesMovies");
var Title=Request.Form["Title"];
var Genre=Request.Form["Genre"];
var Year=Request.Form["Year"];


if(IsPost && Validation.IsValid())
    {
        if(ModelState.IsValid)
        {

            Title=Request.Form["Title"];
            Genre=Request.Form["Genre"];
            Year=Request.Form["Year"];

            var insertstring="insert into Movies (Title,Genre,Year) values (@0, @1, @2)";
            db.Execute(insertstring,Title.Trim(),Genre.Trim(),Year.Trim());
            Response.Redirect(Href("~/ListMovies"));
        }
    }


}



            <div class="page-header">
                <h3>Add New Movie</h3>
                 </div>

            <div class="row">
                <div class="col-md-10">
                <ul class="list-inline">
                    <li><a href="@Href("~/ListMovies")">Exit without saving</a></li>
                    </ul>
            </div>
                </div>

             <div class="row">
                <div class="col-md-5">        
            
                
            <form action="" method="post" role="form">
                <fieldset>
                    <legend>Enter Information</legend>
                    <div class="form-group">
                        <label for="Title">Title:</label>
                        <input type="text" class="form-control" id="Title" name="Title" size="50" value="@Title">
                    </div>
                    <div class="form-group">
                        <label for="Genre">Genre:</label>
                        <input type="text" class="form-control" id="Genre" name="Genre" size="50" value="@Genre">
                    </div>
                    <div class="form-group">
                        <label for="Year">Year:</label>
                        <input type="text" class="form-control" id="Year" name="Year" size="10" value="@Year">
                    </div>
                    <div>
                        <button type="submit" class="btn btn-default">Save</button>
                    </div>
                </fieldset>
                  </form>
                    </div>
                </div>

         
